<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Popacorn - Store</title>
  <link rel="stylesheet" href="./style.css">
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap"
    rel="stylesheet">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,1,0" />
  <script src="https://kit.fontawesome.com/3f34c302de.js" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<body>

  <main>


    <div class="navBar">
      <h1 style="margin:0;margin-left:15px;" id="mainNav">POPACORN</h1>


      <div id="mbar">
        <div class="mas">
          <i class="fa-solid fa-bag-shopping" style="margin:0;"></i>
          <div id="cartCount">
            <p id="cartCountP"></p>
          </div>
        </div>
        <i class="fa-solid fa-bars mab mbarc"></i>
        <i class="fa-solid fa-xmark max mbarc" id="x"></i>

      </div>


    </div>
    <div id="menu">
      <h4 class="menulink" id="mlStore" style="margin:0;margin-left:100px">Store</h4>
      <h4 class="menulink" id="mlDelivery" style="margin:0;margin-left:100px">Delivery</h4>
      <h4 class="menulink" id="mlContact" style="margin:0;margin-left:100px">Contact Us</h4>
      <div style="display: flex;flex-direction: row;align-items: flex-start;justify-content:flex-start;width:80vw">
        <div class="insta"
          style="height:55px;width:55px;background-color: transparent;border-radius: 50%;display:flex;align-items: center;justify-content: center;margin-right:10px;">
          <i class="fa-brands fa-instagram" style="color:white;font-size:40px;"></i>
        </div>
        <div class="faceb"
          style="height:55px;width:55px;background-color: transparent;border-radius: 50%;display:flex;align-items: center;justify-content: center;margin-right:10px;">
          <i class="fa-brands fa-facebook" style="color:white;font-size:40px;"></i>
        </div>
      </div>
    </div>
    <div id="productInfo">
      <div id="productContent">
        <img src="./assets/garliccheese.jpg" id="productImg">
        <div id="productDetails">
          <p id="returnStore" style="margin:0;">Back to Store</p>
          <h1 id="productTitle" style="font-size:70px;margin:0;font-weight: 900;line-height:70px;">Garlic Cheese</h1>
          <h2 id="productCost" style="font-size:45px;margin:0;font-weight: 200">৳90.00</h2>
          <p id="productDesc" style="margin:0;margin-bottom:20px;font-size:16px;font-weight: 300;">Savor the robust
            taste of
            garlic-infused cheese enveloping each fluffy popcorn piece. It's a snack that speaks for
            itself—bold, cheesy, and utterly satisfying. Treat yourself to the straightforward pleasure of our Garlic
            Cheese Popcorn
            and indulge in the irresistible combination of flavors with every bite.</p>
          <p style="font-size:22px;margin:0;font-weight:600">Portion</p>
          <select style="margin-bottom:20px;" id="portion">
            <option value="large">Large</option>
            <option value="small">Small</option>
          </select>
          <p style="font-size:22px;margin:0;font-weight:600">Add Ons</p>
          <div id="addons">
            <div id="optioncheese" class="options">
              <div class="checkbox unchecked">
                <i class="fa-solid fa-check"></i>
              </div>
              <p>+ Cheese</p>
            </div>
            <div class="options">
              <div id="optiongarlic" class="checkbox unchecked">
                <i class="fa-solid fa-check"></i>
              </div>
              <p>+ Garlic</p>
            </div>
            <div class="options">
              <div id="optionmustard" class="checkbox unchecked">
                <i class="fa-solid fa-check"></i>
              </div>
              <p>+ Mustard</p>
            </div>
            <div class="options">
              <div id="optionpaprika" class="checkbox unchecked">
                <i class="fa-solid fa-check"></i>
              </div>
              <p>+ Paprika</p>
            </div>
            <div class="options">
              <div id="optiondc" class="checkbox unchecked">
                <i class="fa-solid fa-check"></i>
              </div>
              <p>+ Dried Capsicum</p>
            </div>
            <div class="options">
              <div id="optionbutter" class="checkbox unchecked">
                <i class="fa-solid fa-check"></i>
              </div>
              <p>+ Butter</p>
            </div>
          </div>
          <p style="margin:0;font-size:20px;font-weight:600">In Stock</p>
          <button class="primaryBtn" id="addToCart">Add to Cart</button>



        </div>
      </div>
    </div>
    <div class="main-content" id="store"
      style="flex-direction: column;padding:30px;margin-top:0;align-items: center;margin-bottom:20vh;height:auto;">
      <div id="storeContainer"
        style="display:flex;flex-direction: row;width:100%;max-width:1200px;flex-flow: wrap;align-items: center;justify-content: center;margin-bottom:50px;height:auto;">
      
      </div>

    </div>
    <div class="main-content"
      style="height:10vh;width:100%;margin:0;background-color: #013a46;display:flex;justify-content: center;align-items: center;">
      <p style="color:white;font-weight: 300;">Popacorn 2024 - <span style="font-weight: 500;">Designed by <a
            href="https://revvifi.org" target="_blank"
            style="color:white !important;text-decoration: none;font-weight: 700;">Revvifi
            NY</a></span></p>
    </div>
  </main>
  <script src="index.js"></script>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";
    import { getFirestore, doc, setDoc, getDocs, collection } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBLZQeeK9JAESw3gN7l0hksGbyUMlbm3ZQ",
      authDomain: "popacorn-8af6b.firebaseapp.com",
      projectId: "popacorn-8af6b",
      storageBucket: "popacorn-8af6b.appspot.com",
      messagingSenderId: "61775911379",
      appId: "1:61775911379:web:464bacfa574458965b3726",
      measurementId: "G-WHDEL9KXW3"
    };
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const db = getFirestore(app);
    const formatter = new Intl.NumberFormat('en-US', {
        style: 'decimal',
        maximumFractionDigits: 2,
        minimumFractionDigits: 2

      });
    const querySnapshot = await getDocs(collection(db, "products"));
      querySnapshot.forEach((doc) => {
        // doc.data() is never undefined for query doc snapshots
        const id = doc.id;
        const data = doc.data();
        $("#storeContainer").append(`
                <div class="product" product="${id}">
                    <div class="pimg">
                        <img src="${data.img}">
                    </div>
                    <h1>${data.title}</h1>
                    <h4>৳${formatter.format((data.cost))}</h4>
                </div>
                `)
        $(".itemHref").click(function () {
          window.location.href = "/store.html?product=" + $(this).attr("product");
        })

      });

  </script>

</body>

</html>